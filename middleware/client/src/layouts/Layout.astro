---
import { Toaster } from "../@shadcn/components/ui/sonner";
import "../styles/globals.css";
import { ViewTransitions } from "astro:transitions";

interface Props {
    title: string;
}
const { title } = Astro.props;
---

<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="description" content="Astro description" />
        <meta name="viewport" content="width=device-width" />
        <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
        <meta name="generator" content={Astro.generator} />
        <!-- Bootstrap icons -->
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
        />
        <title>{title}</title>
        <ViewTransitions />
    </head>
    <body onload={""}>
        <slot />
        <Toaster client:idle />
        <style is:global></style>
        <script>
            import handleApp, { getAppName } from "../utils/handleApp";
            import handleTheme, { getTheme } from "../utils/handleTheme";
            function prepareWebPage() {
                // load theme
                const theme = getTheme();
                handleTheme(theme);
                // load app
                const appName = getAppName();
                if (appName) handleApp(appName);
            }
            document.addEventListener("astro:page-load", prepareWebPage);
        </script>
    </body>
</html>
